<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="container">
    <input class="lightOverride" id="lightMode" type="checkbox" />
    <label class="lightOverride" for="lightMode">Light Mode</label>

    <input class="darkOverride" id="darkMode" type="checkbox" />
    <label class="darkOverride" for="darkMode">Dark Mode</label>

    <div class="body">
        <h3 class="title">My Website</h3>

        <p>This is some text</p>
        <p>
            This is my website where I put my text. I hope you like it. I have now
            used up my entire text budget and I have none left, goodbye.
        </p>
    </div>
</div>

<style>
    .container {
        position: relative;
        border: 0.2em solid black;
        max-width: 25em;
        margin: auto;
    }

    .body {
        padding: 1em;
    }

    input,
    label {
        position: absolute;
        top: 0.5em;
        right: 0.5em;
        height: 1.8em;
    }

    label {
        padding-right: 1.2em;
        user-select: none;
    }

    .title {
        margin: 0;
    }

    .darkOverride {
        color: black;
    }

    #darkMode:checked {
        color: whitesmoke;
    }

    #darkMode:checked ~ label {
        color: whitesmoke;
    }

    .lightOverride {
        color: whitesmoke;
    }

    #lightMode:checked {
        color: black;
    }

    #lightMode:checked ~ label {
        color: black;
    }

    @media (prefers-color-scheme: light) {
        .lightOverride {
            display: none;
        }

        .body {
            background-color: white;
            color: black;
        }

        #darkMode:checked ~ .body {
            background-color: darkslategrey;
            color: whitesmoke;
        }
    }

    @media (prefers-color-scheme: dark) {
        .darkOverride {
            display: none;
        }

        .body {
            background-color: darkslategrey;
            color: whitesmoke;
        }

        #lightMode:checked ~ .body {
            background-color: white;
            color: black;
        }
    }
</style>

<script>
   // 暗黑模式的切换方案

   // 目前媒体查询 prefers-color-scheme 的兼容行是 Chrome76 以上
   // https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/prefers-color-scheme

   // 局限点:
   // 1 因为 CSS 提供的选择器的支持
   // 2 浏览器的兼容

   // 目前更加推荐使用 CSS 自定义变量 替换网站的整体色调
</script>
</body>
</html>
